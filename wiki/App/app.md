# Настройка параметров в приложении

Для управления устройством используется Web-приложение, которое работает в браузере на телефоне и в браузере на компьютере.
Оба варианта обладают абсолютно одинаковым функционалом, просто экран браузера на компьютере имеет больший размер, чем на экране 
телефона и пользоваться им удобнее.

![Web-приложение](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p01.png)

## Эффекты

На этой странице приложения собраны элементы управления отображением эффектов на матрице, настройка последовательности "проигрывания" эффектов,
длительность отображения эффектов и другие настройки.

### Общая яркость матрицы

**Общая яркость** - определяет яркость свечения светодиодов матрицы. Максимальная возможная яркость ограничена используемым блоком питания.  

```
Внимание!!! Длительное использование устройства на максимальной яркости может приводить к перегреву 
светодиодов и их деградации. Обеспечьте хороший отвод тепла от светодиодов для продления их максимального
срока службы. Рекомендуемая яркость - на уровне 25-50%.
```

![Яркость](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p02.png)

#### Вкл/Выкл 

Кнопка **"Вкл/Выкл"** - включает или отключает матрицу. При отключенной матрице устройство всё равно продолжает работать, отслеживает время
будильников, режимов запрограммированных по времени, получает сведения о текущей погоде и так далее, просто отключается вывод изображения на матрицу.  

#### Яркость

Кнопки включения предустановленной яркости позволяет быстро включать яркость на значения **5%**, **25%**, **50%**, **75%** и **100%**.
Плавная регулировка яркости от 1% до 100% может быть настроена ползунком, расположенных ниже кнопок.   

### Время режимов

![Время режимов](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p03.png)

- Значение **"Время режима"** ***(1)*** - задает время демонстрации эффекта в секундах. По истечении указанного интервала времени будет включен следующий или случайный эффект.  
- Значение **"Авторежим через"** ***(2)*** определяет время возврата от включенного вручную эффекта к режиму автоматической смены эффектов. 
  Если указан **0** - возврат от ручного режима к автоматическому управлению - отключен. Включённый вручную режим будет демонстрироваться постоянно.  

После изменения настроек в полях этого блока нажмите кнопку **"Применить"** ***(3)***, чтобы передать измененные значения в устройство.


#### Управление режимами

![Время режимов](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p04.png)

- Переключатель **"Автосмена эффекта"** ***(1)*** - если включен, устройство перебирает все доступные эффекты, сменяя их через указанный промежуток времени.
  Если переключатель выключен - выполняется постоянная демонстрация включенного вручную эффекта.  
- Переключатель **"Случайный выбор"** ***(2)*** - если включен - алгоритм перебора эффектов выбирает следующий эффект случайным образом. 
  Если переключатель выключен - эффекты перебираются последовательно из списка разрешенных к использованию (смотри раздел ***"Любимые эффекты"*** ниже)  
- Кнопка **"Предыдущий"** ***(3)*** - возврат к предыдущему эффекту, если используется последовательный перебор эффектов  
- Кнопка **"Следующий"** ***(4)*** - переход к следующему эффекту, если используется последовательный перебор эффектов  
  В случае, если включен режим *случайного* выбора эффекта, кнопки **"Предыдущий"** и **"Следующий"** просто меняют эффект на другой, выбранный случайным образом.  
- Кнопка **"Включить ночные часы"** ***(5)*** позволяет быстро переключать устройство между режимом ночных часов и обычным режимом демонстрации эффектов.  

### Список эффектов, настройка параметров

#### Список эффектов

Список эффектов отображает плитки-кнопки эффектов, разрешенных к использованию в разделе **"любимые эффекты"***

![Список эффектов](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p05.png)

Плитка эффекта содержит название эффекта, слева от названия - значок шестеренки. Нажатие на значок открывает окошко установки параметров эффекта.
Плитка текущего проигрываемого эффекта подсвечивается для быстрого визуального понимания какой эффект сейчас отображает матрица.  

Для включения нужного эффекта нажмите на плитку с его названием. Ручное включение эффекта отключает автоматическую смену эффектов.
Для обратного включения режима автоматической смены эффектов активируйте переключатель **"Автосмена эффекта"** в блоке управления, расположенном выше списка.

#### Настройка параметров эффекта

Для настройки параметров выбранного эффекта нажмите значок шестеренки на плитке эффекта. В открывшемся окне измените значения параметров.  

![Настройка эффектов](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p06.png)

Наличие тех или иных настроек зависят от конкретного эффекта, какие параметры эффекта реализованы в прошивке.  

- Переключатель **"Часы поверх эффекта"**  
  Если переключатель активирован - поверх эффекта будут отображаться часы и текущая температура, если получение информации с сервера погоды включено и 
  размеры матрицы позволяют разместить температуру вместе с часами.  
  Если переключатель отключен - часы и температура поверх ***этого*** эффекта показываться не будут.  

  Включение / отключение отображения температуры вместе с часами выполняется на страничке настройки параметров ***часов***.  
  На этой же странице можно отключить отображение часов для всех эффектов сразу.  

- Переключатель **"Бегущая строка поверх эффекта"**  
  Если переключатель активирован и режим воспроизведения бегущей строки включен - текст бегущей строки будет отображаться поверх эффекта.  
  Если переключатель отключен - бегущие строки поверх этого эффекта показываться не будут.  

  Включение / отключение отображения бегущей строки поверх эффектов для всех эффектов сразу выполняется на страничке настройки параметров ***бегущей строки***.  

```
  Для демонстрации часов малого размера требуется матрица размером не менее 15x5, больших - не менее 23x7 (ширина x высота). 
  Если размеры матрицы не удовлетворяют минимальным требованиям - часы отображаться не будут.
```

- Слайдер **"Контраст"** ***(3)*** позволяет регулировать яркость эффекта относительно общей яркости, установленной для устройства. 
  Если воспроизводится полноэкранный полноцветный эффект - часы не его фоне могут стать нечитаемыми.
  Снижение уровня яркости эффекта относительно яркости часов (***контрастность***) позволяет сделать часы на фоне эффекта более заметными.  

- Слайдер **"Скорость"** ***(4)*** регулирует скорость эффекта.  
  Некоторые эффекты по своему алгоритму требуют для формирования максимально возможной скорости.
  Для этих эффектов регулировка скорости недоступна.  

- Слайдер **"Вариант"** ***(5)*** регулирует индивидуальные параметры эффекта. Значение регулировки зависит от выбранного эффекта.
  Например, для "шумовых" эффектов слайдер изменяет размер цветового пятна.  
  Для таких эффектов как ***"Светлячки"***, ***"Шарики"***, ***"Конфетти"***, ***"Радуга"*** и подобных - количество или размер элементов.  
  Для режима полноэкранной заливки цветом - цвет или насыщенность
  Для некоторых эффектов изменение параметра **"Вариант"** может отсутствовать.  

- Комбобокс **"Вариант"** позволяет выбрать один из возможных вариантов эффекта.  
  Например, для эффекта ***"Радуга"*** - направление радужных полос, для эффекта ***"Стрелки"*** - направление и место появления стрелок, и т.д.  
  Как правило, один из вариантов - ***"Случайный"***. Выбор этого варианта позволяет устройству выбирать вариант случайным образом.  

- Переключатель **"Сегменты"** - переключение между широкоформатным видом эффекта или видом разделенным на сегменты. 

![Сегменты](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p07.png)
  
  Некоторые эффекты, например, ***"Пейнтбол"*** или ***"Водоворот"*** выглядят не очень красиво в широкоформатном режиме, когда цветовой шар движется по всей площади матрицы.  
  Если чекбокс включен - всё пространство матрицы делится на квадратные сегменты. Ширина квадрата выбирается по меньшему размеру матрицы.
  Так, матрица 48x16 может быть разделена на ***три*** квадратных сегмента ***16x16***. Сам эффект рисуется синхронно в каждом сегменте.
  Такой подход позволяет сделать эффект более насыщенным. Для матриц, у которых размеры не позволяют сформировать более одного сегмента,
  эта регулировка приведёт к сужению поля отображения эффекта до одного квадрата с размерами по меньшей стороне матрицы.  

#### Любимые эффекты

Если какие-то из эффектов вам не интересны, их можно убрать из списка эффектов, доступных для отображения.  
Нажмите на кнопку **"Выбор"** ***(1)***, расположенную выше списка плиток эффектов.
 
![Любимые эффекты](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p08.png)

Список доступных эффектов будет представлен в виде двух колонок, отмеченных как **"Включено"** ***(2)*** и **"Отключено** ***(3)***.
Эффекты из списка ***"Включено"*** - доступны к использованию и отображаются на закладке ***"Эффекты"***. 
Порядок следования эффектов в этом списке задает порядок их воспроизведения при последовательном переборе, когда случайный выбор эффектов отключен.

Упорядочивание списка включенных эффектов и перенос плиток эффектов между списками осуществляется способом ***"зацепи и тяни"***.  

Если страница открыта в браузере на компьютере - нажмите и удерживайте левую кнопку мыши на плитке эффекта и переместите ее в нужны список - ***Включено*** или ***Отключено***
или внутри списка ***Включено*** для изменения порядка воспроизведения.  
 
Если страница открыта в браузере на телефоне - зацепите плитку пальцем и перетяните на нужное место или в нужный список.

Переместить все плитки за раз из одного списка в другой можно нажатием кнопок **"Отключить все"** или **"Добавить все"** ***(4)***.
Изменения вступают в силу немедленно.  

Для прокручивания списка вниз в браузере на телефоне нажмите пальцем на пространство ***между*** списками и тяните страницу вниз или вверх.
Для возврата к списку отобранных эффектов снова нажмите на кнопку **"Эффекты"**.  

## Бегущая строка

Устройство поддерживает отображение до 36 различных строк текста в виде бегущей строки поверх эффектов.  
Все параметры отображения задаются на странице настройки параметров ***бегущей строки***  

![Бегущая строка](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p09.png)

Страница управления настройками бегущей строки разделена на три блока:  
- **Бегущая строка** ***(1)*** - настройки параметров отображения бегущей строки  
- **Текст бегущей строки** ***(2)*** - редактирование текстов для отображения в бегущей строке  
- **Макросы бегущей строки** ***(3)*** - набор кнопок для быстрого добавления макросов в текст бегущей строки 

### Параметры бегущей строки

![Параметры бегущей строки](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p10.png)

- Переключатель **"Текст поверх эффектов"** ***(1)***
  Включите этот переключатель для активации периодического отображения бегущей строки поверх эффектов.
  Этот переключатель имеет приоритет в настройках, его отключение запрещает бегущую строку на устройстве для всех эффектов.  
  Если переключатель отключен - бегущая строка **НЕ БУДЕТ** отображаться, даже если в настройках эффектов отображение разрешено.  
  Если переключатель включен - бегущая строка будет отображаться поверх эффектов для которых в их настройках показ бегущей строки разрешен.  

- **"Интервал"** ***(2)*** - задает время в секундах - период отображения. Очередной текст будет отображен поверх эффектов с разрешенным 
  показом бегущей строки по истечении указанного интервала времени. Если ко времени показа бегущей строки отображается эффект, 
  для которого стоит запрет бегущей строки - текст будет показан немедленно с началом следующего эффекта для которого бегущая строка разрешена.  

- Кнопка **"Применить"** ***(3)*** отправляет настройки интервала в устройство.  

- **"Цвет текста"** ***(4)*** - выбор варианта цвета отображения текста, когда внутри текста цвет не задан специальным макросом цвета.  
  - ***"Одноцветный"*** - задает цвет отображения бегущей строки. Кнопка **"Выбрать цвет"** ***(5)*** позволяет выбрать желаемый цвет из цветового круга.  
  - ***"Радуга"*** - буквы вдоль матрицы окрашиваются в цвет радуги. Цвет букв меняется с их перемещением вдоль матрицы.  
  - ***"Каждая буква свой цвет"*** - каждая буква имеет свой цвет. Цвет букв НЕ меняется с их перемещением вдоль матрицы.  

![Выбор цвета](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p11.png)

- Слайдер **"Скорость"** ***(6)***задает скорость прокрутки текста бегущей строки на матрице.  

Изменение параметров в этом блоке (за исключением настройки ***интервала отображения***) вступают в сиду немедленно, 
сразу после изменения значения параметра.  

### Тексты бегущей строки

#### Ячейки хранения текста

![Редактирование текста](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p12.png)

Каждой ячейке в блоке ***(1)*** соответствует кнопка от **0** до **9**, а так же **A**..**Z**. Нажатие на кнопку загружает в строку редактирования 
текст из соответствующей ячейки.  

Введенный в строку ***(2)*** текст можно сохранить, нажав на кнопку **"Сохранить"** ***(5)***.  

Нажатие на кнопку **"Просмотр"** ***(4)*** запускает отображение бегущей строки на устройстве ***без сохранения*** его в память устройства.  

Нажатие на кнопку **"Очистить"** ***(3)*** очищает строку редактирования текста.  

Текст бегущей строки может содержать специальные управляющие последовательности - ***макросы***, позволяющие задавать цвет отображения текста,
количество или продолжительность показа, привязывать текст к событиям и многое другое. Подробная инструкция по использованию макросов
находится в [этой статье](https://github.com/vvip-68/LedPanelWiFi/wiki/Настройка-бегущей-строки).  

Для быстрой вставки макроса в редактируемый текст используйте **кнопки подстановки макросов**, расположенные в блоке ***Макросы бегущей строки"***.  

### Макросы бегущей строки

Для более удобного управления макросами в бегущей строке, в интерфейсе Web-приложения предусмотрен блок подстановки макросов в текст редактируемой строки.  

![Макросы бегущей строки](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p13.png)

Нажатие на кнопку макроса подставляет его в текст строки. Для некоторых макросов требуется ввести их параметры, например - выбрать дату для макросов
с разрешенными / целевыми показами в интервале дат, макрос выбора звуков, макрос выбора эффектов из списка и других.  

Подробная инструкция по использованию макросов находится в [этой статье](https://github.com/vvip-68/LedPanelWiFi/wiki/Настройка-бегущей-строки).  

### Справка по макросам бегущей строки

Подробная инструкция по использованию ***макросов*** также доступна при нажатии на кнопку **"Справка"**.  

![Макросы бегущей строки](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p14.png)


## Настройки часов

При наличии подключения к сети Интернет, устройство способно получать текущее время с серверов точного времени по протоколу NTP и
отображать часы поверх демонстрируемых эффектов.

### Настройки часов

![Настройки часов](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p15.png)

- Переключатель **"Часы поверх эффектов"** ***(1)*** - отключение чекбокса прекращает отображение часов во всех эффектах.
  При включенном чекбоксе часы будут показываться поверх тех эффектов, в которых разрешено их отображение.  

- Список выбора **"Ориентация"** ***(2)*** позволяет задать вид отображения часов на матрице - **"горизонтально"** или **"вертикально"**.  
  При ***горизонтальной*** ориентации часов они располагаются в одну строку - часы, затем минуты.  
  При ***вертикальной*** ориентации часов они располагаются в две строки - вверху часы, внизу минуты.  

  **Внимание** - доступность варианта ориентации часов зависит от размеров матрицы:  
  - для горизонтальных часов малого размера - матрица от **15x5**, большого размера - от **23х7**  
  - для вертикальных часов малого размера - матрица от **7x11**, большого размера - от **11x15**  

- Группа **"Цвет часов"** ***(3)*** задает вариант цвета отображения часов:  
  - **"Одноцветные"** - все цифры часов отображаются одним цветом. Цвет часов в этом варианте определяется в прошивке как цвет максимально контрастный к основному цвету эффекта.  
  - **"Каждая цифра свой цвет"** - каждая цифра часов и минут имеет свой цвет, который плавно меняется во времени.  
  - **"Часы, точки, минуты"** - цвет отображения часов разбит на группы - цвет часов, цвет разделительных точек, цвет минут.  

- Слайдер **"Скорость прокрутки"** ***(4)*** позволяет отображать часы с возможностью прокрутки вдоль матрицы аналогично бегущей строке. 
  Реализовано два алгоритма прокрутки часов в зависимости от выбранного в настройках прошивки параметра **DEVICE_TYPE**.  
  `DEVICE_TYPE 1` - плоская матица, устройство ***"панель"***. При прокрутке часы уходят за границу матрицы и только затем появляются с противоположной стороны.  
  `DEVICE_TYPE 0` - матица, свёрнутая в трубу (тубус) - устройство ***"лампа"***. При прокрутке часы появляются с противоположной стороны как только первый
  столбец уходит за границу матрицы. Такой подход позволяет получить бесшовное отображение часов, вращающихся по поверхности трубы.  

  Установка ползунка скорости перемещения часов в ***крайнее левое положение*** останавливает прокрутку часов и размещает их по центру матрицы.  

- Группа **"Цвет ночных часов"** ***(5)*** позволяет выбрать цвет отображения ночных часов.  
  Обычно для ночных часов устанавливают минимальную яркость и выбирают цвет наименее раздражающий глаза в полной темноте.  
  Рекомендуется отображение ночных часов красным цветом, как наиболее спокойный для глаз в темноте.
  Если матрица затонирована темной пленкой - установить яркость ночных часов можно в ***Общих настройках*** слайдером ***Яркость*** так, что они будут видны даже через это затемнение.  

- **Размер отображения часов** ***(6)***:  
  - **Авто** - выбирается наибольший доступный размер часов для вашего размера матрицы.  
  - **3x5** - малые часы. Дата и температура отображается шрифтом ***3x5***. Для отображения горизонтальных малых часов минимальный размер матрицы - ***15x5***.
    Если матрица имеет размеры не менее ***15x11*** - одновременно с часами может отображаться текущая температура - в две строки. 
    Дата также отображается в две строки - число, месяц, год.  
  - **5х7** - большие часы, отображаются шрифтом ***5x7***. Для отображения больших часов минимальный размер матрицы **23x7**.
    Если матрица имеет размеры не менее ***23x15*** - одновременно с часами может отображаться текущая температура - в две строки. 
    Дата также отображается в две строки - *число*, *месяц*, *год*.  

    Если размер матрицы не позволяет выводить информацию в две строки, часы, дата и температура показываются по очереди.  

- Переключатель **"Показывать температуру в часах"** ***(7)***  
  Если переключатель установлен и температура получена с погодного сервера - текущая температура отображается одновременно с часами.  
  Если размеры матрицы позволяют - температура показывается вместе с часами. Если размеров недостаточно - часы и температура отображаются по очереди.  

- Варианты отображения температуры - **"Цветная температура"** ***(8)***  
  - Чекбокс **"днем"** - в дневных часах поверх эффектов отображается температура цветным шрифтом
  - Чекбокс **"ночью"** - в ночных часах поверх эффектов отображается температура цветным шрифтом

  Если отображение цветов температуры включено:  
   - отрицательные температуры до -4°C отображаются цветами синих оттенков. Чем холоднее - тем более глубокий синий цвет.  
   - температура в диапазоне -3°C..+3°C отображается белым цветом  
   - положительные температуры от +4°C отображаются цветами красных оттенков. Чем теплее - тем более насыщенный красный цвет.  

  Если отображение цветов температуры выключено, температура отображается текущим цветом часов.  
 
- Переключатель **"Показывать дату в часах"** ***(9)*** включает периодическое отображение текущей даты. Время и дата показывается попеременно.  
  Ниже указана продолжительность в секундах отображения даты ***(10)*** и периодичность показа даты в секундах ***(11)***.  
  Дата будет отображаться на матрице в течение ***N*** секунд через каждые ***M*** секунд.  

  После того как параметры отображения часов заданы - нажмите кнопку **"Применить"** ***(12)*** для сохранения настроек.

### Время интернета

  Одним из достоинств этого устройства, при использовании его в качестве настольных / настенных часов - точное время. 
  Часы не будут убегать вперед или отставать, как это происходит практически с любыми китайскими настольными часами с Aliexpress.
  Достигается это за счет функции периодического получения точного времени из интернета с серверов NTP.  

![Время интернета](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p16.png)

- Переключатель **"Синхронизация NTP"** ***(1)*** позволяет автоматически получать текущее время c серверов времени, расположенных в сети Интернет.  
  Если переключатель отключен или нет доступа к интернету, установить время в устройстве можно нажатием на кнопку **"Установить текущее время"** ***(2)***. 
  В устройство передается текущее время смартфона или компьютера.  
  Если переключатель включен - время запрашивается с сервера, указанного в поле **"Сервер NTP"** ***(3)***.  
  Интервал опроса сервера для синхронизации времени задается в минутах в поле **"Синх. каждые"** ***(4)***.  
  Время, получаемое с сервера имеет значение для часового пояса ***"+0 UTC"*** - Нулевой / Гринвичский меридиан. 
  Для приведения времени к вашему часовому поясу укажите в поле **"Часовой пояс"** ***(5)*** смещение вашего часового пояса относительно нулевого меридиана.  

  Обычно часовой пояс представляет собой смещение в целых часах от **UTC+0**. Так, для Москвы - часовой пояс ***UTC+4***, для Новосибирска - ***UTC+7***.
  Однако в мире существуют страны, в которых часовой пояс задается не в целых часах. Например, для Индии и Шри-Ланки установлено время ***UTC+5:30***.
  Для Мьянмы - ***UTC+5:45***. Настройке часового пояса в Web-приложении позволяют задавать значение для таких экзотических временных зон.
  Укажите время часового пояса с минутами в формате **ЧЧ:ММ**.  

  После установки параметров синхронизации времени нажмите кнопку **"Применить"** ***(6)***.  

  Если текущее время установлено в устройстве, доступно отображение часов поверх эффектов.  
  Варианты отображения часов и  дополнительной информации (дата, температура) во многом зависит от размеров матрицы -
  не все возможности доступны на матрицах малого размера.  

### Настройки будильников

#### Время и длительность будильников

  При наличии информации о текущем времени устройство поддерживает функционал будильников - по одному на каждый день недели.
  Особенностью будильников является возможность включения режима "рассвет", когда за несколько минут до срабатывания основного будильника
  включается плавное нарастание яркости матрицы, имитируя наступление рассвета.  

![Будильники](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p17.png)
  
- Список выбора **"Эффект рассвета"** ***(1)*** позволяет выбрать какой из эффектов будет воспроизводиться с плавным нарастанием яркости в фазу рассвета.
  Может быть выбран любой эффект из списка доступных, однако рекомендуется использовать специальный эффект ***"Рассвет"***, имитирующей по цветовой палитре
  восход солнца - от красного к ярко белому.  


- Поле **"Время рассвета"** ***(2)*** настраивает продолжительность *"рассвета"* - за сколько минут до срабатывания основного будильника 
  будет включен эффект с плавным нарастанием яркости.

По истечению времени *"рассвета"* включается основной будильник. Время эффекта основного будильника задается в поле **"Время будильника"** ***(3)***.
По истечении указанного времени будильник отключится автоматически.

- Переключатели **день недели** ***(4)*** и поле **выбор времени** ***(5)*** будильника. 
  Для каждого дня недели - свои переключатель и поле выбора времени.
  Если переключатель включен - будильник активен. Для выбора времени срабатывания будильника нажмите на поле, содержащее время.

![Будильники](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p18.png)
![Будильники](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p19.png)


Выберите час и минуты срабатывания будильника и нажмите на кнопку **"OK"** в панели выбора времени.  
Для сохранения настроек нажмите на кнопку **"Установить"** ***(6)***.  


#### Звуки будильников

Если в настройках прошивки включена поддержка MP3-плеера - `USE_MP3 1` - и данный модуль правильно подключен к устройству,
свечение матрицы как в рассвет, так и при срабатывании будильника может сопровождаться звуковыми эффектами.  
  
![Звук будильника](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p20.png)

  Переключатель **"Использовать звук будильника"** ***(1)***  
  Если переключатель отключен - во время работы рассвета и будильника будет только отображение эффектов на матрице, без звукового сопровождения.  
  Если переключатель включен - выберите звуки, проигрываемые во время рассвета - **"Звук рассвета"** ***(2)*** и во время будильника - **"Звук будильника"** ***(4)***.  

  Выбранный звук вы можете прослушать, нажав на кнопку **Play** ***(3)*** и ***(5)*** справа от комбобокса выбора звука.  
  Если звук не нужен - выберите значение ***"Нет звука"***  
  Если вы хотите разнообразия и просыпаться каждый день с новым звуковым сопровождением - выберите вариант **"Случайный звук"**.  
  
  Файлы со звуками будильников и рассвета находятся на SD-карте, вставленной в подключенный MP3 DFPlayer модуль.
  Инструкция подготовки файлов для звуков будильников находится в [этой статье](https://github.com/vvip-68/LedPanelWiFi/wiki/Звуки-будильника).

  Слайдер **"Громкость"** ***(6)*** позволяет настроить громкость звукового сопровождения рассвета и будильника.  
  При этом во время рассвета громкость звука будет плавно увеличиваться от минимальной до установленной громкости,
  звук основного будильника будет воспроизводиться на указанной максимальной громкости.  

```  
  Эффект рассвета обеспечит вам плавное и легкое просыпание. Однако стоит помнить, 
  что устройство работает от сети, поэтому при отключении электричества будильники
  работать не будут. Поэтому настоятельно рекомендуется наряду с будильниками устройства
  настроить обычный будильник на вашем смартфоне, чтобы не проспать!
```
  По завершении настройки звуков рассвета и будильника нажмите кнопку **"Установить"** ***(7)***.  


### Режимы по времени

Полезной функцией устройства является возможность включения / выключения в заданное время. Например, вы можете настроить автоматическое включение
матрицы утром, отключение в обед, снова включение вечером и отключение ночью. Всего устройством поддерживается 4 настраиваемых режима с указанием 
времени плюс два специальных режима **"Рассвет"** и **"Закат"**.

![Режимы по времени](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/App/p21.png)

Для **режимов 1-4** выберите **время** ***(1)***  включения режима, аналогично выбору времени срабатывания будильника, 
а также какое действие нужно выполнить в указанное время. Активируйте комбобокс со ***списком действий*** ***(2)***и выберите требуемое.

- **"Нет действия"** - режим отключен. В указанное время никаких действий выполнено не будет.  
- **"Выключить матрицу"** - в указанное время произойдет программное отключение устройства. Питание с матрицы будет снято (при наличии модулей управления питанием 
  через реле или MOSFET), светодиоды будут отключены.  
- **"Ночные часы"** - в указанное время устройство перейдет в режим отображения ночных часов.  
- **"Демо режим"** - в указанное время устройство включится, на матрице начнется воспроизведение случайного эффекта с дальнейшей сменой - авторежим.  
- **"Часы"** - в указанное время будет включен режим дневных часов.  
  Также вы можете выбрать любой другой режим из списка доступных, которые будут воспроизведены на матрице по алгоритму ручного включения режима.  

Режимы **"Рассвет"** ***(3)*** и **"Закат"** ***(4)*** имеют такие же настройки действий как ***Режимы 1-4***. Особенность - *"плавающее"* время включения этих режимов.
При включенной опции получения информации с погодного сервера одновременно с получением текущей температуры, с сервера получается время рассвета и заката не текущий день.
Наличие этой информации позволяет запрограммировать включение гирлянды с наступлением сумерек - ***Закат***, и выключить гирлянду с началом светлого времени суток - ***Рассвет***.

После того, как все режимы будут настроены - нажмите кнопку **"Сохранить"** ***(5)***

На этом настройка параметров режимов устройства завершена. 
Сделайте [резервную копию](https://github.com/vvip-68/LedPanelWiFi/wiki/Настройка-параметров-в-приложении#Резервная-копия-настроек) 
настроек для возможности их быстрого восстановления, если ваши эксперименты с устройством приведут к нежелательному изменению.  

Не забывайте сохранять настройки, если изменения показались вам удачными.


