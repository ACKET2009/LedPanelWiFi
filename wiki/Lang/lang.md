# Язык интерфейса

В данной версии проекта сделана попытка упростить перевод интерфейса программы и Web-приложения на различные языки.
В настоящее время поддерживаются два языка - ***Русский*** и ***Английский***.

```
Являясь носителем русского языка и зная английский в пределах школьной программы, автор проекта 
отвечает за интерфейс на русском языке и сомневается в корректности перевода на язык английский.

Если среди пользователей, повторивших проект есть носители английского языка - автор проекта будет 
благодарен исправлению перевода на их родной английский язык.

Что и где переводить - описано ниже.
```
## Язык в скетче

### Константа языка - LANG

В папке проекта со скетчем находится файл **a_def_lang.h**. В этом файле определены строковые константы
содержащие названия эффектов и их параметров, списки звуковых файлов, анимации, константы названий месяцев и дней недели...
В общем - всего того, что может появиться в бегущей строке и в интерфейсе Web-приложения из устройства.

То, какой язык будет использоваться - определяется константой LANG, заданной в строке 34 файла **a_def_lang.h**.

```
#define LANG 'RUS'
```

По умолчанию поддерживается два значения этой константы - **'RUS'** и **'ENG'**. Если вы хотите получить
интерфейс приложения на другом языке - введите своё значение для константы языка и следуйте инструкциям ниже.  

### Блок со строками

![Блок со строками](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/Lang/p01.png)

Для добавления своего языка интерфейса скопируйте все содержимое блока разметки языка  

```
#if (LANG == 'RUS')
...
#endif
```
в конец файла **a_def_lang.h**

Замените сигнатуру RUS здесь и в определении значения константы `LANG` на соответствующую вашему языку, 
выполните перевод строк внутри скопированного блока.  

![Web-приложение](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/Lang/p02.png)  
![Web-приложение](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/Lang/p03.png)  
![Web-приложение](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/Lang/p04.png)  
![Web-приложение](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/Lang/p05.png)  
![Web-приложение](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/Lang/p06.png)  
![Web-приложение](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/Lang/p07.png)  

## Язык в Web-приложении

В папке проекта ***web/src/assets/lang*** найдите файл rus.json и скопируйте его в файл, с именем, соответствующем вашему языку,
с буквами той же сигнатуры, которую вы задали шагом выше, только в строчном регистре.  

![Web-приложение](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/Lang/p08.png)  

Файл языка Web-интерфейса - это JSON файл, содержащий пары строк ключ-значение.  
Ключ - в левой части пары, отделён от значения двоеточием ':'  
Выполните перевод строк ***значений*** на ваш язык, оставляя ключ неизменным - на русском языке.  

После того, как перевод будет выполнен - сожмите файл языка архиватором ***gzip*** и поместите сжатый файл
в папку ***/data/web/assets/langs***.

![Web-приложение](https://github.com/vvip-68/LedPanelWiFi/blob/main/wiki/Lang/p09.png)  

После [загрузки](https://github.com/vvip-68/LedPanelWiFi/wiki/Загрузка-данных-в-файловую-систему-МК) исправленного 
Web-интерфейса в файловую систему микроконтроллера Web-интерфейс будет отображаться на вашем языке.  



